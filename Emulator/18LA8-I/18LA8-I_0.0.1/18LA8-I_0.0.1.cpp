#include<stdio.h>

int main()
{
	long long int input,output;
	long long int imm,rs2,rs1,rd,funct,opcode,fo4;
	
	long long int r0=0,r1=0,r2=0,r3=0,r4=0,r5=0,r6=0,r7=0;
	
	int mode;
	
	long long int b00,b01,b02,b03,b04,b05,b06,b07;
	long long int b10,b11,b12,b13,b14,b15,b16,b17;
	long long int b20,b21,b22,b23,b24,b25,b26,b27;
	
	long long int rs1_d,rs2_d,rd_d;
	
	printf("Welcome to 18LA8-I Emulator\n");
		while(1)
		{
			printf("Inst:");
			scanf("%lld",&input);
			
			opcode=input%100;
			
			funct=input%10000;
			funct=funct/100;
			
			rd=input%10000000;
			rd=rd/10000;
			
			rs1=input%10000000000;
			rs1=rs1/10000000;
			if(rs1==0)
			{
				rs1_d=r0;
			}
			if(rs1==1)
			{
				rs1_d=r1;
			}
			if(rs1==10)
			{
				rs1_d=r2;
			}
			if(rs1==11)
			{
				rs1_d=r3;
			}
			if(rs1==100)
			{
				rs1_d=r4;
			}
			if(rs1==101)
			{
				rs1_d=r5;
			}
			if(rs1==110)
			{
				rs1_d=r6;
			}
			if(rs1==111)
			{
				rs1_d=r7;
			}
			
			rs2=input%10000000000000;
			rs2=rs2/10000000000;
			if(rs2==0)
			{
				rs2_d=r0;
			}
			if(rs2==1)
			{
				rs2_d=r1;
			}
			if(rs2==10)
			{
				rs2_d=r2;
			}
			if(rs2==11)
			{
				rs2_d=r3;
			}
			if(rs2==100)
			{
				rs2_d=r4;
			}
			if(rs2==101)
			{
				rs2_d=r5;
			}
			if(rs2==110)
			{
				rs2_d=r6;
			}
			if(rs2==111)
			{
				rs2_d=r7;
			}
			
			imm=input/10000000000000;
			
			if(opcode!=0)
			{
				imm=input/10000000000;
			}
			
			fo4=funct*100;
			fo4=fo4+opcode;
			
			//and
			if(fo4==0){
				b00=rs1_d%10;
				b01=rs1_d%100;
				b01=b01/10;
				b02=rs1_d%1000;
				b02=b02/100;
				b03=rs1_d%10000;
				b03=b03/1000;
				b04=rs1_d%100000;
				b04=b04/10000;
				b05=rs1_d%1000000;
				b05=b05/100000;
				b06=rs1_d%10000000;
				b06=b06/1000000;
				b07=rs1_d/100000000;
				b10=rs2_d%10;
				b11=rs2_d%100;
				b11=b01/10;
				b12=rs2_d%1000;
				b12=b02/100;
				b13=rs2_d%10000;
				b13=b03/1000;
				b14=rs2_d%100000;
				b14=b04/10000;
				b15=rs2_d%1000000;
				b15=b05/100000;
				b16=rs2_d%10000000;
				b16=b06/1000000;
				b17=rs2_d/100000000;
				if(b00==b10&&b00!=0)
				{
					b20=1;
				}
				else
				{
					b20=0;
				}
				if(b01==b11&&b01!=0)
				{
					b21=10;
				}
				else
				{
					b21=0;
				}
				if(b02==b12&&b02!=0)
				{
					b22=100;
				}
				else
				{
					b22=0;
				}
				if(b03==b13&&b03!=0)
				{
					b23=1000;
				}
				else
				{
					b23=0;
				}
				if(b04==b14&&b04!=0)
				{
					b24=10000;
				}
				else
				{
					b24=0;
				}
				if(b05==b15&&b05!=0)
				{
					b25=100000;
				}
				else
				{
					b25=0;
				}
				if(b06==b16&&b06!=0)
				{
					b26=1000000;
				}
				else
				{
					b26=0;
				}
				if(b07==b17&&b07!=0)
				{
					b27=100000000;
				}
				else
				{
					b27=0;
				}
				rd_d=b20+b21+b22+b23+b24+b25+b26+b27;
			}
			//andi
			if(fo4==1){
				b00=rs1_d%10;
				b01=rs1_d%100;
				b01=b01/10;
				b02=rs1_d%1000;
				b02=b02/100;
				b03=rs1_d%10000;
				b03=b03/1000;
				b04=rs1_d%100000;
				b04=b04/10000;
				b05=rs1_d%1000000;
				b05=b05/100000;
				b06=rs1_d%10000000;
				b06=b06/1000000;
				b07=rs1_d/100000000;
				b10=imm%10;
				b11=imm%100;
				b11=b01/10;
				b12=imm%1000;
				b12=b02/100;
				b13=imm%10000;
				b13=b03/1000;
				b14=imm%100000;
				b14=b04/10000;
				b15=imm%1000000;
				b15=b05/100000;
				b16=imm%10000000;
				b16=b06/1000000;
				b17=imm/100000000;
				if(b00==b10&&b00!=0)
				{
					b20=1;
				}
				else
				{
					b20=0;
				}
				if(b01==b11&&b01!=0)
				{
					b21=10;
				}
				else
				{
					b21=0;
				}
				if(b02==b12&&b02!=0)
				{
					b22=100;
				}
				else
				{
					b22=0;
				}
				if(b03==b13&&b03!=0)
				{
					b23=1000;
				}
				else
				{
					b23=0;
				}
				if(b04==b14&&b04!=0)
				{
					b24=10000;
				}
				else
				{
					b24=0;
				}
				if(b05==b15&&b05!=0)
				{
					b25=100000;
				}
				else
				{
					b25=0;
				}
				if(b06==b16&&b06!=0)
				{
					b26=1000000;
				}
				else
				{
					b26=0;
				}
				if(b07==b17&&b07!=0)
				{
					b27=100000000;
				}
				else
				{
					b27=0;
				}
				rd_d=b20+b21+b22+b23+b24+b25+b26+b27;
			}
			//or
			if(fo4==100){
				b00=rs1_d%10;
				b01=rs1_d%100;
				b01=b01/10;
				b02=rs1_d%1000;
				b02=b02/100;
				b03=rs1_d%10000;
				b03=b03/1000;
				b04=rs1_d%100000;
				b04=b04/10000;
				b05=rs1_d%1000000;
				b05=b05/100000;
				b06=rs1_d%10000000;
				b06=b06/1000000;
				b07=rs1_d/100000000;
				b10=rs2_d%10;
				b11=rs2_d%100;
				b11=b01/10;
				b12=rs2_d%1000;
				b12=b02/100;
				b13=rs2_d%10000;
				b13=b03/1000;
				b14=rs2_d%100000;
				b14=b04/10000;
				b15=rs2_d%1000000;
				b15=b05/100000;
				b16=rs2_d%10000000;
				b16=b06/1000000;
				b17=rs2_d/100000000;
				if(b00==1||b10==1)
				{
					b20=1;
				}
				else
				{
					b20=0;
				}
				if(b01==1||b11==1)
				{
					b21=10;
				}
				else
				{
					b21=0;
				}
				if(b02==1||b12==1)
				{
					b22=100;
				}
				else
				{
					b22=0;
				}
				if(b03==1||b13==1)
				{
					b23=1000;
				}
				else
				{
					b23=0;
				}
				if(b04==1||b14==1)
				{
					b24=10000;
				}
				else
				{
					b24=0;
				}
				if(b05==1||b15==1)
				{
					b25=100000;
				}
				else
				{
					b25=0;
				}
				if(b06==1||b16==1)
				{
					b26=1000000;
				}
				else
				{
					b26=0;
				}
				if(b07==1||b17==1)
				{
					b27=100000000;
				}
				else
				{
					b27=0;
				}
				rd_d=b20+b21+b22+b23+b24+b25+b26+b27;
			}
			//ori
			if(fo4==101){
				b00=rs1_d%10;
				b01=rs1_d%100;
				b01=b01/10;
				b02=rs1_d%1000;
				b02=b02/100;
				b03=rs1_d%10000;
				b03=b03/1000;
				b04=rs1_d%100000;
				b04=b04/10000;
				b05=rs1_d%1000000;
				b05=b05/100000;
				b06=rs1_d%10000000;
				b06=b06/1000000;
				b07=rs1_d/100000000;
				b10=imm%10;
				b11=imm%100;
				b11=b01/10;
				b12=imm%1000;
				b12=b02/100;
				b13=imm%10000;
				b13=b03/1000;
				b14=imm%100000;
				b14=b04/10000;
				b15=imm%1000000;
				b15=b05/100000;
				b16=imm%10000000;
				b16=b06/1000000;
				b17=imm/100000000;
				if(b00==1||b10==1)
				{
					b20=1;
				}
				else
				{
					b20=0;
				}
				if(b01==1||b11==1)
				{
					b21=10;
				}
				else
				{
					b21=0;
				}
				if(b02==1||b12==1)
				{
					b22=100;
				}
				else
				{
					b22=0;
				}
				if(b03==1||b13==1)
				{
					b23=1000;
				}
				else
				{
					b23=0;
				}
				if(b04==1||b14==1)
				{
					b24=10000;
				}
				else
				{
					b24=0;
				}
				if(b05==1||b15==1)
				{
					b25=100000;
				}
				else
				{
					b25=0;
				}
				if(b06==1||b16==1)
				{
					b26=1000000;
				}
				else
				{
					b26=0;
				}
				if(b07==1||b17==1)
				{
					b27=100000000;
				}
				else
				{
					b27=0;
				}
				rd_d=b20+b21+b22+b23+b24+b25+b26+b27;
			}
			//or
			if(fo4==1000){
				b00=rs1_d%10;
				b01=rs1_d%100;
				b01=b01/10;
				b02=rs1_d%1000;
				b02=b02/100;
				b03=rs1_d%10000;
				b03=b03/1000;
				b04=rs1_d%100000;
				b04=b04/10000;
				b05=rs1_d%1000000;
				b05=b05/100000;
				b06=rs1_d%10000000;
				b06=b06/1000000;
				b07=rs1_d/100000000;
				b10=rs2_d%10;
				b11=rs2_d%100;
				b11=b01/10;
				b12=rs2_d%1000;
				b12=b02/100;
				b13=rs2_d%10000;
				b13=b03/1000;
				b14=rs2_d%100000;
				b14=b04/10000;
				b15=rs2_d%1000000;
				b15=b05/100000;
				b16=rs2_d%10000000;
				b16=b06/1000000;
				b17=rs2_d/100000000;
				if(b00!=b10)
				{
					b20=1;
				}
				else
				{
					b20=0;
				}
				if(b01!=b11)
				{
					b21=10;
				}
				else
				{
					b21=0;
				}
				if(b02!=b12)
				{
					b22=100;
				}
				else
				{
					b22=0;
				}
				if(b03!=b13)
				{
					b23=1000;
				}
				else
				{
					b23=0;
				}
				if(b04!=b14)
				{
					b24=10000;
				}
				else
				{
					b24=0;
				}
				if(b05!=b15)
				{
					b25=100000;
				}
				else
				{
					b25=0;
				}
				if(b06!=b16)
				{
					b26=1000000;
				}
				else
				{
					b26=0;
				}
				if(b07!=b17)
				{
					b27=100000000;
				}
				else
				{
					b27=0;
				}
				rd_d=b20+b21+b22+b23+b24+b25+b26+b27;
			}
			//ori
			if(fo4==1001){
				b00=rs1_d%10;
				b01=rs1_d%100;
				b01=b01/10;
				b02=rs1_d%1000;
				b02=b02/100;
				b03=rs1_d%10000;
				b03=b03/1000;
				b04=rs1_d%100000;
				b04=b04/10000;
				b05=rs1_d%1000000;
				b05=b05/100000;
				b06=rs1_d%10000000;
				b06=b06/1000000;
				b07=rs1_d/100000000;
				b10=imm%10;
				b11=imm%100;
				b11=b01/10;
				b12=imm%1000;
				b12=b02/100;
				b13=imm%10000;
				b13=b03/1000;
				b14=imm%100000;
				b14=b04/10000;
				b15=imm%1000000;
				b15=b05/100000;
				b16=imm%10000000;
				b16=b06/1000000;
				b17=imm/100000000;
				if(b00!=b10)
				{
					b20=1;
				}
				else
				{
					b20=0;
				}
				if(b01!=b11)
				{
					b21=10;
				}
				else
				{
					b21=0;
				}
				if(b02!=b12)
				{
					b22=100;
				}
				else
				{
					b22=0;
				}
				if(b03!=b13)
				{
					b23=1000;
				}
				else
				{
					b23=0;
				}
				if(b04!=b14)
				{
					b24=10000;
				}
				else
				{
					b24=0;
				}
				if(b05!=b15)
				{
					b25=100000;
				}
				else
				{
					b25=0;
				}
				if(b06!=b16)
				{
					b26=1000000;
				}
				else
				{
					b26=0;
				}
				if(b07!=b17)
				{
					b27=100000000;
				}
				else
				{
					b27=0;
				}
				rd_d=b20+b21+b22+b23+b24+b25+b26+b27;
			}
			//not
			if(fo4==1101) {
				b00=rs1_d%10;
				b01=rs1_d%100;
				b01=b01/10;
				b02=rs1_d%1000;
				b02=b02/100;
				b03=rs1_d%10000;
				b03=b03/1000;
				b04=rs1_d%100000;
				b04=b04/10000;
				b05=rs1_d%1000000;
				b05=b05/100000;
				b06=rs1_d%10000000;
				b06=b06/1000000;
				b07=rs1_d/100000000;
				if(b00==0)
					b20=1;
				else
					b10=0;
				if(b01==0)
					b21=1;
				else
					b21=0;
				if(b02==0)
					b22=1;
				else
					b22=0;
				if(b03==0)
					b23=1;
				else
					b23=0;
				if(b04==0)
					b24=1;
				else
					b24=0;
				if(b05==0)
					b25=1;
				else
					b25=0;
				if(b06==0)
					b26=1;
				else
					b26=0;
				if(b07==0)
					b27=1;
				else
					b27=0;
				rd_d=b20+b21+b22+b23+b24+b25+b26+b27;
			}
			
			if(fo4==10)//add
			{
				rd_d=rs1_d;
			}
			if(fo4==110)//addi
			{	
				rd_d=imm;
			}
			
			if(rd==0){
				r0=rd_d;
			}
			if(rd==1){
				r1=rd_d;
			}
			if(rd==10){
				r2=rd_d;
			}
			if(rd==11){
				r3=rd_d;
			}
			if(rd==100){
				r4=rd_d;
			}
			if(rd==101){
				r5=rd_d;
			}
			if(rd==110){
				r6=rd_d;
			}
			if(rd==111){
				r7=rd_d;
			}
			
			output=rd_d;
			printf("R0:%lld R1:%lld R2:%lld R3:%lld R4:%lld R5:%lld R6:%lld R7:%lld\n",r0,r1,r2,r3,r4,r5,r6,r7);
		}

} 
